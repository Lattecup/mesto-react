{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","cardDeleteButtonClassName","card","owner","_id","cardLikeButtonClassName","likes","some","like","type","onClick","onCardDelete","link","name","onCardClick","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onSubmit","title","children","isLoading","loadingButtonText","buttonText","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","onUpdateUser","id","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setLink","ConfirmDeletePopup","ImagePopup","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","data","method","body","JSON","stringify","isLiked","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","isLoadingButtontext","setIsLoadingButtontext","cardToRemove","setCardToRemove","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getInitialCards","catch","err","console","log","getUserInfo","Provider","i","changeLikeCardStatus","newCard","state","c","setUserInfo","finally","postCard","changeAvatar","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uMAAe,MAA0B,wC,OCa1BA,MAVf,WACE,OACE,wBAAQC,UAAU,SAAlB,SACE,mBAAGC,KAAK,oCAAR,SACE,qBAAKC,IAAKC,EAAMH,UAAU,eAAeI,IAAI,oDCLxCC,EAAqBC,IAAMC,gBCqCzBC,MApCf,SAAcC,GAEZ,IAAMC,EAAcJ,IAAMK,WAAWN,GAE/BO,EADQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAYK,IACT,iDAAmD,sBAEvFC,EADUP,EAAMI,KAAKI,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKJ,MAAQL,EAAYK,OAC7B,6CAA+C,oBAezF,OACE,sBAAKf,UAAU,OAAf,UACE,wBAAQoB,KAAK,SAASC,QAN1B,WACEZ,EAAMa,aAAab,EAAMI,OAK2Bb,UAAWY,EAA2B,aAAW,gGACnG,qBAAKV,IAAKO,EAAMI,KAAKU,KAAMnB,IAAKK,EAAMI,KAAKW,KAAMxB,UAAU,cAAcqB,QAf7E,WACEZ,EAAMgB,YAAYhB,EAAMI,SAetB,sBAAKb,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BS,EAAMI,KAAKW,OAC1C,sBAAKxB,UAAU,uBAAf,UACE,wBAAQoB,KAAK,SAASC,QAf9B,WACEZ,EAAMiB,WAAWjB,EAAMI,OAc+Bb,UAAWgB,EAAyB,aAAW,oFAC/F,sBAAMhB,UAAU,qBAAhB,SAAsCS,EAAMI,KAAKI,MAAMU,mBCQlDC,MApCf,SAAcnB,GAEZ,IAAMC,EAAcJ,IAAMK,WAAWN,GAErC,OACE,uBAAML,UAAU,UAAhB,UAEE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,4BAAf,UACE,wBAAQoB,KAAK,SAASpB,UAAU,gCAAgC,aAAW,wFAAkBqB,QAASZ,EAAMoB,eAC5G,qBAAKzB,IAAI,uCAASJ,UAAU,kBAAkBE,IAAKQ,EAAYoB,YAEjE,sBAAK9B,UAAU,gBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCU,EAAYc,OAC5C,wBAAQJ,KAAK,SAASpB,UAAU,uBAAuB,aAAW,4HAAwBqB,QAASZ,EAAMsB,gBACzG,mBAAG/B,UAAU,oBAAb,SAAkCU,EAAYsB,WAEhD,wBAAQZ,KAAK,SAASpB,UAAU,sBAAsB,aAAW,gHAAsBqB,QAASZ,EAAMwB,gBAGxG,0BAASjC,UAAU,QAAnB,UACGS,EAAMyB,MAAMC,KAAI,SAACtB,GAAD,OACf,cAAC,EAAD,CAEEA,KAAMA,EACNY,YAAahB,EAAMgB,YACnBC,WAAYjB,EAAMiB,WAClBJ,aAAcb,EAAMa,cAJfT,EAAKE,QAHhB,WCdSqB,MARf,WACE,OACE,wBAAQpC,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,uCCcSqC,MAjBf,SAAuB5B,GACrB,OACE,qBAAKT,UAAWS,EAAM6B,OAAN,gDAA0D7B,EAAMe,MAAhF,SACE,qBAAKxB,UAAU,mBAAf,SACE,uBAAMA,UAAU,iBAAiBwB,KAAMf,EAAMe,KAAMe,SAAU9B,EAAM8B,SAAnE,UACE,oBAAIvC,UAAU,gBAAd,SAA+BS,EAAM+B,QACrC,0BAAUxC,UAAU,iBAApB,SACGS,EAAMgC,WAET,wBAAQrB,KAAK,SAASpB,UAAU,sBAAhC,SAAuDS,EAAMiC,UAAYjC,EAAMkC,kBAAoBlC,EAAMmC,aACzG,wBAAQxB,KAAK,SAASpB,UAAU,sBAAsB,aAAW,6CAAUqB,QAASZ,EAAMoC,kBCwCrFC,MAhDf,SAA0BrC,GAExB,MAAwBH,IAAMyC,SAAS,IAAvC,mBAAOvB,EAAP,KAAawB,EAAb,KACA,EAAsC1C,IAAMyC,SAAS,IAArD,mBAAOE,EAAP,KAAoBC,EAApB,KACMxC,EAAcJ,IAAMK,WAAWN,GAyBpC,OAPDC,IAAM6C,WAAU,WACVzC,IACFsC,EAAQtC,EAAYc,MACpB0B,EAAexC,EAAYsB,UAE5B,CAACtB,IAGF,eAAC,EAAD,CACEc,KAAK,eACLgB,MAAM,4HACNI,WAAW,yDACXD,kBAAkB,kEAClBL,OAAQ7B,EAAM6B,OACdO,QAASpC,EAAMoC,QACfN,SAvBJ,SAAsBa,GACpBA,EAAIC,iBACJ5C,EAAM6C,aAAa,CACjB9B,KAAMA,EACNQ,MAAOiB,KAoBPP,UAAWjC,EAAMiC,UARnB,UAUE,uBAAOa,GAAG,aAAanC,KAAK,OAAOpB,UAAU,qCAAqCwB,KAAK,OAAOgC,YAAY,gEAAcC,UAAQ,EAACC,UAAU,IAAIC,UAAU,KAAKC,MAAOpC,GAAQ,GAAIqC,SAlCrL,SAA0BT,GACxBJ,EAAQI,EAAIU,OAAOF,UAkCjB,sBAAM5D,UAAU,uCAChB,uBAAOuD,GAAG,YAAYnC,KAAK,OAAOpB,UAAU,wCAAwCwB,KAAK,cAAcgC,YAAY,oGAAoBC,UAAQ,EAACC,UAAU,IAAIC,UAAU,MAAMC,MAAOX,GAAe,GAAIY,SAhC5M,SAAiCT,GAC/BF,EAAeE,EAAIU,OAAOF,UAgCxB,sBAAM5D,UAAU,0CCVP+D,MAlCf,SAAyBtD,GAEvB,IAAMuD,EAAY1D,IAAM2D,SAexB,OANA3D,IAAM6C,WAAU,WACT1C,EAAM6B,SACT0B,EAAUE,QAAQN,MAAQ,MAE3B,CAACnD,EAAM6B,SAGR,eAAC,EAAD,CACEd,KAAK,gBACLgB,MAAM,wFACNI,WAAW,yDACXD,kBAAkB,kEAClBL,OAAQ7B,EAAM6B,OACdO,QAASpC,EAAMoC,QACfN,SArBJ,SAAsBa,GACpBA,EAAIC,iBACJ5C,EAAM0D,eAAe,CACnBrC,OAAQkC,EAAUE,QAAQN,SAmB1BlB,UAAWjC,EAAMiC,UARnB,UAUE,uBAAOa,GAAG,eAAenC,KAAK,MAAMpB,UAAU,oCAAoCwB,KAAK,OAAOgC,YAAY,qGAAqBY,IAAKJ,EAAWP,UAAQ,IACvJ,sBAAMzD,UAAU,6CCkBPqE,MA/Cf,SAAuB5D,GAErB,MAAwBH,IAAMyC,SAAS,IAAvC,mBAAOvB,EAAP,KAAawB,EAAb,KACA,EAAwB1C,IAAMyC,SAAS,IAAvC,mBAAOxB,EAAP,KAAa+C,EAAb,KAyBA,OAPAhE,IAAM6C,WAAU,WACT1C,EAAM6B,SACTU,EAAQ,IACRsB,EAAQ,OAET,CAAC7D,EAAM6B,SAGR,eAAC,EAAD,CACEd,KAAK,WACLgB,MAAM,gEACNI,WAAW,yDACXD,kBAAkB,kEAClBL,OAAQ7B,EAAM6B,OACdO,QAASpC,EAAMoC,QACfN,SAvBJ,SAAsBa,GACpBA,EAAIC,iBACJ5C,EAAMwB,WAAW,CACfT,KAAMA,EACND,KAAMA,KAoBNmB,UAAWjC,EAAMiC,UARnB,UAUE,uBAAOa,GAAG,cAAcnC,KAAK,OAAOpB,UAAU,qCAAqCwB,KAAK,QAAQgC,YAAY,mDAAWE,UAAU,IAAIC,UAAU,KAAKC,MAAOpC,EAAMqC,SAlCrK,SAA0BT,GACxBJ,EAAQI,EAAIU,OAAOF,QAiC4KH,UAAQ,IACrM,sBAAMzD,UAAU,wCAChB,uBAAOuD,GAAG,aAAanC,KAAK,MAAMpB,UAAU,oCAAoCwB,KAAK,OAAOgC,YAAY,qGAAqBI,MAAOrC,EAAMsC,SAhC9I,SAA0BT,GACxBkB,EAAQlB,EAAIU,OAAOF,QA+BqJH,UAAQ,IAC9K,sBAAMzD,UAAU,2CCrBPuE,MArBf,SAA4B9D,GAO1B,OACE,cAAC,EAAD,CACEe,KAAK,iBACLgB,MAAM,2DACNI,WAAW,eACXD,kBAAkB,sDAClBD,UAAWjC,EAAMiC,UACjBJ,OAAQ7B,EAAM6B,OACdO,QAASpC,EAAMoC,QACfN,SAdJ,SAAsBa,GACpBA,EAAIC,iBACJ5C,EAAMa,aAAab,EAAMI,UCSd2D,MAdf,SAAoB/D,GAClB,OACE,qBAAKT,UAAWS,EAAMI,KAAN,oDAAhB,SACE,sBAAKb,UAAU,0BAAf,UACE,yBAAQA,UAAU,gBAAlB,UACE,qBAAKE,IAAKO,EAAMI,KAAOJ,EAAMI,KAAKU,KAAO,IAAKnB,IAAI,qEAAcJ,UAAU,iBAC1E,4BAAYA,UAAU,uBAAtB,SAA8CS,EAAMI,KAAOJ,EAAMI,KAAKW,KAAO,0EAE/E,wBAAQJ,KAAK,SAASpB,UAAU,sBAAsB,aAAW,6CAAUqB,QAASZ,EAAMoC,gB,cCsFrF4B,EAAM,I,WA/FjB,WAAYC,GAAU,oBACpBC,KAAKC,KAAOF,EAAQG,IACpBF,KAAKG,SAAWJ,EAAQK,Q,mDAG1B,SAAgBC,GACd,OAAIA,EAAIC,GACCD,EAAIE,OAGNC,QAAQC,OAAR,gDAA0BJ,EAAIK,W,yBAGvC,WACE,OAAOC,MAAMX,KAAKC,KAAO,YAAa,CACpCG,QAASJ,KAAKG,WAEfS,KAAKZ,KAAKa,mB,yBAGb,SAAYC,GACV,OAAOH,MAAMX,KAAKC,KAAO,YAAa,CACpCc,OAAQ,QACRX,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnBrE,KAAMiE,EAAKjE,KACXQ,MAAOyD,EAAKzD,UAGfuD,KAAKZ,KAAKa,mB,6BAGb,WACE,OAAOF,MAAMX,KAAKC,KAAO,SAAU,CACjCG,QAASJ,KAAKG,WAEfS,KAAKZ,KAAKa,mB,sBAGb,SAASC,GACP,OAAOH,MAAMX,KAAKC,KAAO,SAAU,CACjCc,OAAQ,OACRX,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnBrE,KAAMiE,EAAKjE,KACXD,KAAMkE,EAAKlE,SAGdgE,KAAKZ,KAAKa,mB,wBAGb,SAAWjC,GACT,OAAO+B,MAAMX,KAAKC,KAAL,iBAAsBrB,GAAM,CACvCmC,OAAQ,SACRX,QAASJ,KAAKG,WAEfS,KAAKZ,KAAKa,mB,kCAGb,SAAqBjC,EAAIuC,GACvB,OAAOR,MAAMX,KAAKC,KAAL,uBAA4BrB,GAAM,CAC7CmC,OAAO,GAAD,OAAKI,EAAU,MAAQ,UAC7Bf,QAASJ,KAAKG,WAEfS,KAAKZ,KAAKa,mB,qBAGb,SAAQjC,GACN,OAAO+B,MAAMX,KAAKC,KAAL,uBAA4BrB,GAAM,CAC7CmC,OAAQ,MACRX,QAASJ,KAAKG,WAEfS,KAAKZ,KAAKa,mB,wBAGb,SAAWjC,GACT,OAAO+B,MAAMX,KAAKC,KAAL,uBAA4BrB,GAAM,CAC7CmC,OAAQ,SACRX,QAASJ,KAAKG,WAEfS,KAAKZ,KAAKa,mB,0BAGb,SAAaC,GACX,OAAOH,MAAMX,KAAKC,KAAO,mBAAoB,CAC3Cc,OAAQ,QACRX,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnB/D,OAAQ2D,EAAK3D,WAGhByD,KAAKZ,KAAKa,qB,KAII,CAAQ,CACzBX,IAAK,8CACLE,QAAS,CACPgB,cAAe,uCACf,eAAgB,sBC2FLC,MAnLf,WAEE,MAA4D1F,IAAMyC,UAAS,GAA3E,mBAAOkD,EAAP,KAA+BC,EAA/B,KACA,EAAsD5F,IAAMyC,UAAS,GAArE,mBAAOoD,EAAP,KAA4BC,EAA5B,KACA,EAA0D9F,IAAMyC,UAAS,GAAzE,mBAAOsD,EAAP,KAA8BC,EAA9B,KACA,EAAgEhG,IAAMyC,UAAS,GAA/E,mBAAOwD,EAAP,KAAiCC,EAAjC,KACA,EAAsDlG,IAAMyC,UAAS,GAArE,mBAAO0D,EAAP,KAA4BC,EAA5B,KACA,EAAwCpG,IAAMyC,SAAS,MAAvD,mBAAO4D,EAAP,KAAqBC,EAArB,KACA,EAAwCtG,IAAMyC,SAAS,MAAvD,mBAAO8D,EAAP,KAAqBC,EAArB,KACA,EAAsCxG,IAAMyC,SAAS,IAArD,mBAAOrC,EAAP,KAAoBqG,EAApB,KACA,EAA0BzG,IAAMyC,SAAS,IAAzC,mBAAOb,EAAP,KAAc8E,EAAd,KAmHA,SAASC,IACPX,GAAyB,GACzBJ,GAA0B,GAC1BE,GAAuB,GACvBI,GAA4B,GAC5BM,EAAgB,MAGlB,OAzHAxG,IAAM6C,WAAU,WACdsB,EAAIyC,kBACD3B,MAAK,SAACE,GACLuB,EAASvB,MAEV0B,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,IAEH9G,IAAM6C,WAAU,WACdsB,EAAI8C,cACDhC,MAAK,SAACE,GACLsB,EAAetB,MAEhB0B,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,IAwGD,eAAC/G,EAAmBmH,SAApB,CAA6B5D,MAAOlD,EAApC,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACEqB,cAzBN,WACEmE,GAA0B,IAyBtBjE,WAtBN,WACEmE,GAAuB,IAsBnBvE,aA/BN,WACEyE,GAAyB,IA+BrB7E,YApCN,SAAyBZ,GACvBiG,EAAgBjG,IAoCZa,WA9FN,SAAwBb,GACtB,IAAMiF,EAAUjF,EAAKI,MAAMC,MAAK,SAAAuG,GAAC,OAAIA,EAAE1G,MAAQL,EAAYK,OAE3D0D,EAAIiD,qBAAqB7G,EAAKE,KAAM+E,GACjCP,MAAK,SAACoC,GACLX,GAAS,SAACY,GAAD,OAAWA,EAAMzF,KAAI,SAAC0F,GAAD,OAAOA,EAAE9G,MAAQF,EAAKE,IAAM4G,EAAUE,WAErEV,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAuFZ9F,aAtBN,SAAkCT,GAChC+F,EAAgB/F,GAChB2F,GAA4B,IAqBxBtE,MAAOA,IAET,cAAC,EAAD,IACA,cAAC,EAAD,CACEI,OAAQ2D,EACRpD,QAASoE,EACT3D,aA3EN,SAA0BmC,GACxBiB,GAAuB,GACvBjC,EAAIqD,YAAYrC,GACbF,MAAK,SAACE,GACLsB,EAAetB,GACfwB,OAEDE,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEbW,SAAQ,WACPrB,GAAuB,OAiEvBhE,UAAW+D,IAEb,cAAC,EAAD,CACEnE,OAAQ6D,EACRtD,QAASoE,EACThF,WA3HN,SAA8BwD,GAC5BiB,GAAuB,GACvBjC,EAAIuD,SAASvC,GACVF,MAAK,SAACoC,GACLX,EAAS,CAACW,GAAF,mBAAczF,KACtB+E,OAEDE,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEbW,SAAQ,WACPrB,GAAuB,OAiHvBhE,UAAW+D,IAEb,cAAC,EAAD,CACEnE,OAAQ+D,EACRxD,QAASoE,EACT9C,eAxEN,SAA4BsB,GAC1BiB,GAAuB,GACvBjC,EAAIwD,aAAaxC,GACdF,MAAK,SAACE,GACLsB,EAAetB,GACfwB,OAEDE,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEbW,SAAQ,WACPrB,GAAuB,OA8DvBhE,UAAW+D,IAEb,cAAC,EAAD,CACE5F,KAAMgG,EACNhE,QAASoE,IAEX,cAAC,EAAD,CACE3E,OAAQiE,EACR1D,QAASoE,EACT3F,aAhHN,SAA0BT,GACxB6F,GAAuB,GACvBjC,EAAIyD,WAAWrH,EAAKE,KACjBwE,MAAK,WACJyB,GAAS,SAAC9E,GAAD,OAAWA,EAAMiG,QAAO,SAACN,GAAD,OAAOA,EAAE9G,MAAQF,EAAKE,UACvDkG,OAEDE,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEbW,SAAQ,WACPrB,GAAuB,OAsGvB7F,KAAM8F,EACNjE,UAAW+D,QC7KJ2B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB/C,MAAK,YAAkD,IAA/CgD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.c4b5a1ea.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.1f1e9591.svg\";","import React from 'react';\r\nimport logo from '../images/header-logo.svg'\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <a href=\"https://Lattecup.github.io/mesto/\">\r\n        <img src={logo} className=\"header__logo\" alt=\"Логотип\" />\r\n      </a>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = isOwn ? 'card__remove-button card__remove-button_active' : 'card__remove-button';\r\n  const isLiked = props.card.likes.some(like => like._id === currentUser._id);\r\n  const cardLikeButtonClassName = isLiked ? 'card__like-button card__like-button_active' : 'card__like-button'; \r\n\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  };\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  };\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <button type=\"button\" onClick={handleDeleteClick} className={cardDeleteButtonClassName} aria-label=\"Удалить карточку\" />\r\n      <img src={props.card.link} alt={props.card.name} className=\"card__image\" onClick={handleClick} />\r\n      <div className=\"card__content\">\r\n        <h2 className=\"card__caption\">{props.card.name}</h2>\r\n        <div className=\"card__like-container\">\r\n          <button type=\"button\" onClick={handleLikeClick} className={cardLikeButtonClassName} aria-label=\"Поставить лайк\" />\r\n          <span className=\"card__like-counter\">{props.card.likes.length}</span>          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      \r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-container\">\r\n          <button type=\"button\" className=\"profile__avatar-change-button\" aria-label=\"Изменить аватар\" onClick={props.onEditAvatar} />\r\n          <img alt=\"Аватар\" className=\"profile__avatar\" src={currentUser.avatar} />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button type=\"button\" className=\"profile__edit-button\" aria-label=\"Редактировать профиль\" onClick={props.onEditProfile} />\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add-button\" aria-label=\"Добавить фотографию\" onClick={props.onAddPlace} />\r\n      </section>\r\n\r\n      <section className=\"cards\">\r\n        {props.cards.map((card) => (\r\n          <Card \r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={props.onCardClick}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n          />\r\n        ))};\r\n      </section>\r\n\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={props.isOpen ? `popup popup_opened` : `popup popup_type_${props.name}`}>\r\n      <div className=\"popup__container\">\r\n        <form className=\"form form-edit\" name={props.name} onSubmit={props.onSubmit}>\r\n          <h2 className=\"form__heading\">{props.title}</h2>\r\n          <fieldset className=\"form__fieldset\">\r\n            {props.children}\r\n          </fieldset>\r\n          <button type=\"submit\" className=\"form__submit-button\">{props.isLoading ? props.loadingButtonText : props.buttonText}</button>\r\n          <button type=\"button\" className=\"popup__close-button\" aria-label=\"Закрыть\" onClick={props.onClose} />\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  function handleChangeDescription(evt) {\r\n    setDescription(evt.target.value);\r\n  };\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (currentUser) {\r\n      setName(currentUser.name)\r\n      setDescription(currentUser.about)\r\n    };\r\n  }, [currentUser]);\r\n\r\n   return (\r\n    <PopupWithForm \r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText='Сохранить'\r\n      loadingButtonText='Сохранение...'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={props.isLoading}\r\n    >\r\n      <input id=\"name-input\" type=\"text\" className=\"form__input form__input_type_title\" name=\"name\" placeholder=\"Введите имя\" required minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleChangeName} />\r\n      <span className=\"form__input-error name-input-error\"></span>\r\n      <input id=\"job-input\" type=\"text\" className=\"form__input form__input_type_subtitle\" name=\"description\" placeholder=\"Введите профессию\" required minLength=\"2\" maxLength=\"200\" value={description || ''} onChange={handleChangeDescription} />\r\n      <span className=\"form__input-error job-input-error\"></span>\r\n  </PopupWithForm>\r\n  )\r\n};\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (!props.isOpen) {\r\n      avatarRef.current.value = '';\r\n    };\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"change-avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText='Сохранить'\r\n      loadingButtonText='Сохранение...'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={props.isLoading}\r\n    >\r\n      <input id=\"avatar-input\" type=\"url\" className=\"form__input form__input_type_link\" name=\"link\" placeholder=\"Ссылка на картинку\" ref={avatarRef} required />\r\n      <span className=\"form__input-error avatar-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  function handleChangeLink(evt) {\r\n    setLink(evt.target.value);\r\n  };\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link\r\n    });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (!props.isOpen) {\r\n      setName('');\r\n      setLink('');    \r\n    };\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      buttonText='Сохранить'\r\n      loadingButtonText='Сохранение...'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={props.isLoading}\r\n    >\r\n      <input id=\"place-input\" type=\"text\" className=\"form__input form__input_type_place\" name=\"place\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" value={name} onChange={handleChangeName} required />\r\n      <span className=\"form__input-error place-input-error\"></span>\r\n      <input id=\"link-input\" type=\"url\" className=\"form__input form__input_type_link\" name=\"link\" placeholder=\"Ссылка на картинку\" value={link} onChange={handleChangeLink} required />\r\n      <span className=\"form__input-error link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmDeletePopup(props) {\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onCardDelete(props.card);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"confirm-delete\"\r\n      title=\"Вы уверены?\"\r\n      buttonText=\"Да\"\r\n      loadingButtonText='Удаление...'\r\n      isLoading={props.isLoading}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ConfirmDeletePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={props.card ? `popup popup_opened` : `popup popup popup_type_image`}>\r\n      <div className=\"popup__figure-container\">\r\n        <figure className=\"popup__figure\">\r\n          <img src={props.card ? props.card.link : '#'} alt=\"Изображение\" className=\"popup__image\" />\r\n          <figcaption className=\"popup__image-caption\">{props.card ? props.card.name : 'Изображение'}</figcaption>\r\n        </figure>\r\n        <button type=\"button\" className=\"popup__close-button\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImagePopup;","class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  };\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    };\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  };\n\n  getUserInfo() {\n    return fetch(this._url + '/users/me', {\n      headers: this._headers,\n    })\n    .then(this._handleResponse);\n  };\n\n  setUserInfo(data) {\n    return fetch(this._url + '/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(this._handleResponse);\n  };\n\n  getInitialCards() {\n    return fetch(this._url + '/cards', {\n      headers: this._headers,\n    })\n    .then(this._handleResponse);\n  };\n\n  postCard(data) {\n    return fetch(this._url + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(this._handleResponse);\n  };\n\n  removeCard(id) {\n    return fetch(this._url + `/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this._handleResponse);\n  };\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(this._url + `/cards/likes/${id}`, {\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\n      headers: this._headers,\n    })\n    .then(this._handleResponse);\n  };\n\n  setLike(id) {\n    return fetch(this._url + `/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n    .then(this._handleResponse);\n  };\n\n  removeLike(id) {\n    return fetch(this._url + `/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this._headers, \n    })\n    .then(this._handleResponse);\n  };\n\n  changeAvatar(data) {\n    return fetch(this._url + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })\n    })\n    .then(this._handleResponse);\n  };\n};\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-28',\n  headers: {\n    authorization: 'd5f4b13b-5ee9-4277-b0be-f215cd379279',\n    'Content-Type': 'application/json'\n  }\n});","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\nimport ImagePopup from './ImagePopup';\nimport { api } from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] = React.useState(false);\n  const [isLoadingButtontext, setIsLoadingButtontext] = React.useState(false);\n  const [cardToRemove, setCardToRemove] = React.useState(null);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  \n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleAddPlaceSubmit(data) {\n    setIsLoadingButtontext(true);\n    api.postCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingButtontext(false);\n      });\n  };\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  function handleCardDelete(card) {\n    setIsLoadingButtontext(true);\n    api.removeCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id))\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingButtontext(false);\n      });\n  };\n\n  function handleUpdateUser(data) {\n    setIsLoadingButtontext(true);\n    api.setUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingButtontext(false);\n      });\n  };\n\n  function handleUpdateAvatar(data) {\n    setIsLoadingButtontext(true);\n    api.changeAvatar(data)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingButtontext(false);\n      });\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  };\n\n  function handleConfirmDeleteClick(card) {\n    setCardToRemove(card);\n    setIsConfirmDeletePopupOpen(true);\n  };\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsConfirmDeletePopupOpen(false);\n    setSelectedCard(null);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onEditAvatar={handleEditAvatarClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLike}\n        onCardDelete={handleConfirmDeleteClick}\n        cards={cards}\n      />\n      <Footer />\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        isLoading={isLoadingButtontext}\n      /> \n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n        isLoading={isLoadingButtontext}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        isLoading={isLoadingButtontext}\n      /> \n      <ImagePopup \n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n      <ConfirmDeletePopup\n        isOpen={isConfirmDeletePopupOpen}\n        onClose={closeAllPopups}\n        onCardDelete={handleCardDelete}\n        card={cardToRemove}\n        isLoading={isLoadingButtontext}\n      />\n  </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}